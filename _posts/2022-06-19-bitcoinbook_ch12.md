---
layout: post                           # (require) default post layout
title: "마스터링 비트코인 ch12"                    # (require) a string title
date: 2022-06-19 13:00:00 +0900       # (require) a post date
categories: [all, bitcoin, 마스터링 비트코인]          # (custom) some categories, but makesure these categories already exists inside path of `category/`
---

# 마스터링 비트코인 ch12 볼록체인 애플리케이션

## 1. 서론
  - 디지털 통화 및 지불의 원래 목적을 훨씬 능가하는 스마트 계약과 같은 애플리케이션에 신뢰 서비스를 제공하는 응용프로그램 플랫폼
  - 블록체인을 이용한 애플리케이션 DApp(Decentralized Application의 약자), 분산 애플리케이션 혹은 탈중앙화 앱

## 2. 애플리케이션 구축 기본 요소(Building Blocks 기본 구성 요소)
  - 이중 지출 금지
    + 비트코인의 탈중앙화 합의 알고리즘의 가장 근본적인 보장으로 UTXO가 두 번 소비되지 않도록 보장
  - 불변성
    + 트랜잭션이 블록체인에 기록되고 후속 블록 작업이 추가되면 트랜잭션 데이터는 변경할 수 없음
  - 중립
    + 탈중앙화된 비트코인 네트워크는 해당 거래의 출처나 내용에 관계없이 유효한 거래를 전파
    + 누구든지 거래를 생성할 수 있음
  - 보안 타임스탬프
    + 합의 규칙은 타임스탬프가 과거나 미래에 포함되지 않은 거래는 거부
    + 블록의 타임스탬프는 포함된 모든 트랜잭션 입력에 대한 미사용을 보장
  - 권한 부여
    + 디지털 서명에 대한 요구 사항이 포함된 script는 개인 키 소유자의 승인 없이 실행 불가능
  - 감사 가능성
    + 모든 거래는 공개되며 감사 할 수 있음
  - 회계
    + 출력은 입력을 초과할 수 없음
  - 만료되지 않음
    + 유효한 거래는 만료되지 않음
  - 진실성
    + SIGHASH_ALL로 서명된 거래 또는 다른 SIGHASH 유형으로 서명된 거래의 일부는 서명을 무효화 하지 않고 수정할 수 없으므로 거래 자체가 무효화 됨
  - 트랜잭션 원자성
    + 비트코인 거래는 원자적
  - 이산(나누지 않는) 가치 단위
    + 트랜잭션 출력은 개별적이고 나눌 수 없는 단위
  - 제어 쿼럼
    + 스크립트의 다중 서명 제약 조건은 다중 서명 체계에 미리 정의된 권한 부여 쿼럼을 부과
    + M-of-N 요구 사항은 합의 규칙에 의해 시행
  - Timelock/Aging
    + 상대 또는 절대 시간 잠금을 포함하는 모든 스크립트 절은 해당 기간이 지정된 시간을 초과한 후에 실행
  - 복제
    + 블록체인의 분산형 저장소는 트랜잭션이 채굴될 때 충분한 확인 후 네트워크를 통해 복제
  - 위조 방지
    + 트랜잭션은 검증된 기존 출력만 사용할 수 있음
  - 일관성
    + 블록이 깊이가 깊을 수록 변경에 필요한 계산과 에너지로 인해 변경이 사실상 불가능
  - 외부 상태 기록
    + 트랜잭션은 OP_RETURN을 통해 외부 머신의 상태 전환을 나타내는 데이터 값 커밋
  - 예측 가능한 발생
    + 예측 가능한 속도로 2,100만 개의 미만의 비트코인 발행  
  
  > Building Block 목록은 완전하지 않으며 비트코인에 새로운 기능이 도입될 때마다 추가될 수 있음


## 3. 애플리케이션 플랫폼
  - 비트코인 블록체인 애플리케이션을 구성하는 신뢰 플랫폼 요소
  - Proof-of-Existence(Digital Notary)
    + 불변성 + 타임스탬프 + 내구성
    + 디지털 공증, 블록체인에 트랜잭션과 함께 커밋되어 문서가 기록된 시점에 문서가 존재했음을 즉명
  - Kickstarter (Lighthouse)
    + 일관성 + 원자성 + 무결성
    + 클라우드 펀딩, 목표 금액에 대해 서명시 다른 사람들이 모금 행사에 기여할 수 있지만 목표가 달성될 때까지 사용 할 수 없음
  - Payment Channels
    + 제어 Quorum + 시간 잠금 + 이중 지출 없음 + 만료 없음 + 검열 저항 + 승인
    + 간편결제, 지불 채널의 거래로 사용되는 Timelock이 있는 다중서명 2-of-2는 어느 한쪽 당사자가 보유하고 언제든지 사용할 수 있음.  
      두 당사자는 더 짧은 timelock에 결제를 이중 지출 없이 약정 거래를 생성 할 수 있음

## 4 간편결제 채널 예시 
* Roted Payment Channels(Lightning Network)
  - 하나의 채널은 거래를 원하는 둘 사이에 만들어 짐
  - 이미 만들어진 채널을 경로로 사용해서 채널이 만들어져 있는 경우 다른 상대를 통해서 원하는 상대로 연결하는 방법 제공
  - 지불 채널들을 사용해서 경로를 구축하려면 노드들과 노드들이 개설한 채널 정보가 공유 되야함
  - 채널 정보로는 채널을 구성하는 노드 쌍과 채널에게 Capacity와 수수료가 제공됨
    ![그림1](https://raw.githubusercontent.com/hanscom95/hanscom95.github.io/master/static/img/_posts/bitcoinbook_ch12_1.png)

## 5 블록체인 애플리케이션 예시
  - DApp
    + 탈중앙화와 애플리케이션 합성어
    + 이더리움, 큐텀, 이오스 같은 플랫폼 코인 위에서 작동하는 어플
    + 플랫폼 위에서 작동하는 디앱의 화폐는 토큰이라고 불림
    + 누구나 실행 가능하며, 셧다운이 없고, 접속제한도 없음
    + 종류
      * Contract Only
        - 스마트컨트랙트만으로 구성 됨
      * Hybrid
        - OffChain Service와 OnChain Service가 하나의 서비스를 이룸
      * Save Data Only
        - OffChain Service와 함께 블록체인을 사용하지만, 블록체인을 데이터 저장 용도만으로 사용
    + 예
      * 크립토키티(CryptoKitties)
      * 스플린터랜드(Splinterlands)
      * 오징어게임 NFT(Squid NFT World)
  
## ○ 참고문서
* [bitcoinbook](https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch12.asciidoc)